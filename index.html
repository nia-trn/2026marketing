<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>The Renatural ‚Äî 2026 Marketing Master Timeline</title>
  <style>
    :root {
      --bg-primary: #0a0a0a;
      --bg-secondary: #111;
      --bg-tertiary: #1a1a1a;
      --text-primary: #ffffff;
      --text-secondary: #aaaaaa;
      --text-muted: #666666;
      --border-color: rgba(255,255,255,0.1);
      --accent-gold: #e8d5b7;
      --accent-orange: rgba(255, 200, 100, 0.7);
      
      --acquisition-bg: rgba(45, 90, 74, 0.4);
      --acquisition-border: rgba(45, 90, 74, 0.8);
      --acquisition-text: #4a9a7a;
      
      --consideration-bg: rgba(74, 74, 45, 0.4);
      --consideration-border: rgba(74, 74, 45, 0.8);
      --consideration-text: #9a9a4a;
      
      --conversion-bg: rgba(90, 45, 74, 0.4);
      --conversion-border: rgba(90, 45, 74, 0.8);
      --conversion-text: #9a4a7a;
      
      --retention-bg: rgba(45, 74, 90, 0.4);
      --retention-border: rgba(45, 74, 90, 0.8);
      --retention-text: #4a7a9a;
      
      --header-height: 52px;
      --metrics-height: 44px;
      --total-fixed-height: 96px;
    }
    
    .light-mode {
      --bg-primary: #f5f5f5;
      --bg-secondary: #ffffff;
      --bg-tertiary: #e8e8e8;
      --text-primary: #1a1a1a;
      --text-secondary: #555555;
      --text-muted: #888888;
      --border-color: rgba(0,0,0,0.1);
      
      --acquisition-bg: rgba(45, 90, 74, 0.15);
      --consideration-bg: rgba(74, 74, 45, 0.15);
      --conversion-bg: rgba(90, 45, 74, 0.15);
      --retention-bg: rgba(45, 74, 90, 0.15);
    }
    
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }
    
    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
      background: var(--bg-primary);
      color: var(--text-primary);
      line-height: 1.4;
      transition: background 0.3s, color 0.3s;
    }
    
    /* ===== TOP NAVIGATION ===== */
    .top-nav {
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      z-index: 1000;
      background: var(--bg-secondary);
      border-bottom: 1px solid var(--border-color);
      padding: 12px 24px;
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 16px;
      height: var(--header-height);
    }
    
    .nav-title {
      font-size: 14px;
      font-weight: 600;
      white-space: nowrap;
    }
    
    .nav-center {
      display: flex;
      align-items: center;
      gap: 6px;
      flex-wrap: wrap;
    }
    
    .nav-btn {
      padding: 5px 10px;
      font-size: 11px;
      background: var(--bg-tertiary);
      border: 1px solid var(--border-color);
      color: var(--text-secondary);
      border-radius: 4px;
      cursor: pointer;
      transition: all 0.2s;
    }
    
    .nav-btn:hover {
      background: var(--border-color);
      color: var(--text-primary);
    }
    
    .nav-btn.active {
      background: var(--accent-gold);
      color: #1a1a1a;
      border-color: var(--accent-gold);
    }
    
    .nav-divider {
      width: 1px;
      height: 20px;
      background: var(--border-color);
      margin: 0 6px;
    }
    
    .nav-right {
      display: flex;
      align-items: center;
      gap: 10px;
    }
    
    .search-input {
      padding: 5px 10px;
      font-size: 11px;
      background: var(--bg-tertiary);
      border: 1px solid var(--border-color);
      color: var(--text-primary);
      border-radius: 4px;
      width: 140px;
    }
    
    .search-input::placeholder {
      color: var(--text-muted);
    }
    
    .toggle-btn {
      padding: 5px 10px;
      font-size: 11px;
      background: transparent;
      border: 1px solid var(--border-color);
      color: var(--text-secondary);
      border-radius: 4px;
      cursor: pointer;
    }
    
    /* ===== METRICS BAR ===== */
    .metrics-bar {
      position: fixed;
      top: var(--header-height);
      left: 0;
      right: 0;
      z-index: 999;
      background: var(--bg-secondary);
      border-bottom: 1px solid var(--border-color);
      padding: 10px 24px;
      display: flex;
      gap: 24px;
      font-size: 11px;
      height: var(--metrics-height);
      align-items: center;
    }
    
    .metric span {
      color: var(--text-muted);
      margin-right: 4px;
    }
    
    /* ===== TABLE CONTAINER ===== */
    .table-wrapper {
      margin-top: var(--total-fixed-height);
      overflow-x: auto;
      overflow-y: visible;
    }
    
    .timeline-table {
      border-collapse: collapse;
      width: max-content;
      min-width: 100%;
    }
    
    .timeline-table th,
    .timeline-table td {
      border: 1px solid var(--border-color);
      padding: 10px 8px;
      font-size: 10px;
      vertical-align: top;
      text-align: left;
    }
    
    /* ===== STICKY COLUMNS ===== */
    .col-swimlane { 
      position: sticky; 
      left: 0; 
      z-index: 20; 
      min-width: 150px; 
      max-width: 150px;
      background: var(--bg-primary);
    }
    
    .col-thinking { 
      position: sticky; 
      left: 150px; 
      z-index: 20; 
      min-width: 160px; 
      max-width: 160px;
      background: var(--bg-primary);
    }
    
    .col-platforms { 
      position: sticky; 
      left: 310px; 
      z-index: 20; 
      min-width: 180px; 
      max-width: 180px;
      background: var(--bg-primary);
    }
    
    .col-budget { 
      position: sticky; 
      left: 490px; 
      z-index: 20; 
      min-width: 120px; 
      max-width: 120px;
      background: var(--bg-primary);
      border-right: 3px solid var(--accent-gold) !important;
    }
    
    /* ===== HEADER ROW ===== */
    .timeline-table thead th {
      position: sticky;
      top: var(--total-fixed-height);
      z-index: 30;
      background: var(--bg-tertiary);
      font-weight: 600;
      text-transform: uppercase;
      letter-spacing: 0.05em;
      color: var(--text-secondary);
      text-align: center;
    }
    
    .timeline-table thead th.col-swimlane,
    .timeline-table thead th.col-thinking,
    .timeline-table thead th.col-platforms,
    .timeline-table thead th.col-budget {
      z-index: 40;
      text-align: left;
    }
    
    /* ===== QUARTER HEADER ===== */
    .quarter-row th {
      padding: 6px 8px;
      font-size: 10px;
      font-weight: 600;
      letter-spacing: 0.1em;
      text-align: center;
    }
    
    .quarter-row th.q1 { background: rgba(74, 154, 122, 0.25); color: #4a9a7a; }
    .quarter-row th.q2 { background: rgba(154, 122, 74, 0.25); color: #9a7a4a; }
    .quarter-row th.q3 { background: rgba(122, 74, 154, 0.25); color: #7a4a9a; }
    .quarter-row th.q4 { background: rgba(154, 74, 74, 0.25); color: #9a4a4a; }
    
    /* ===== MONTH COLUMNS ===== */
    .col-month {
      min-width: 85px;
      max-width: 85px;
      text-align: center;
      vertical-align: middle;
    }
    
    /* ===== END COLUMNS ===== */
    .col-milestones {
      min-width: 180px;
      max-width: 180px;
      background: rgba(232, 213, 183, 0.08);
      color: var(--accent-gold);
    }
    
    .col-dependencies {
      min-width: 180px;
      max-width: 180px;
      background: rgba(100, 150, 255, 0.08);
      color: #8ab4ff;
    }
    
    .col-risk {
      min-width: 180px;
      max-width: 180px;
      background: rgba(255, 100, 100, 0.08);
      color: #ff9999;
    }
    
    .col-risk.low-risk {
      background: rgba(255,255,255,0.02);
      color: var(--text-muted);
    }
    
    .col-risk.critical-risk {
      background: rgba(255, 50, 50, 0.15);
      color: #ff6666;
      font-weight: 600;
    }
    
    /* ===== TIER DIVIDER ROW ===== */
    .tier-divider-row td {
      padding: 10px 16px;
      font-size: 12px;
      font-weight: 600;
      letter-spacing: 0.1em;
      cursor: pointer;
      transition: opacity 0.2s;
    }
    
    .tier-divider-row:hover td {
      opacity: 0.85;
    }
    
    .tier-divider-row.tier-acquisition td { background: var(--acquisition-bg); color: var(--acquisition-text); }
    .tier-divider-row.tier-consideration td { background: var(--consideration-bg); color: var(--consideration-text); }
    .tier-divider-row.tier-conversion td { background: var(--conversion-bg); color: var(--conversion-text); }
    .tier-divider-row.tier-retention td { background: var(--retention-bg); color: var(--retention-text); }
    
    .collapse-icon {
      display: inline-block;
      margin-right: 8px;
      transition: transform 0.3s;
    }
    
    .tier-divider-row.collapsed .collapse-icon {
      transform: rotate(-90deg);
    }
    
    /* ===== SWIMLANE ROWS ===== */
    .swimlane-row.tier-acquisition .col-swimlane,
    .swimlane-row.tier-acquisition .col-thinking,
    .swimlane-row.tier-acquisition .col-platforms,
    .swimlane-row.tier-acquisition .col-budget { background: var(--acquisition-bg); }
    
    .swimlane-row.tier-consideration .col-swimlane,
    .swimlane-row.tier-consideration .col-thinking,
    .swimlane-row.tier-consideration .col-platforms,
    .swimlane-row.tier-consideration .col-budget { background: var(--consideration-bg); }
    
    .swimlane-row.tier-conversion .col-swimlane,
    .swimlane-row.tier-conversion .col-thinking,
    .swimlane-row.tier-conversion .col-platforms,
    .swimlane-row.tier-conversion .col-budget { background: var(--conversion-bg); }
    
    .swimlane-row.tier-retention .col-swimlane,
    .swimlane-row.tier-retention .col-thinking,
    .swimlane-row.tier-retention .col-platforms,
    .swimlane-row.tier-retention .col-budget { background: var(--retention-bg); }
    
    .swimlane-row.hidden {
      display: none;
    }
    
    .swimlane-row.filtered-out {
      display: none;
    }
    
    .swimlane-name {
      font-weight: 600;
      font-size: 11px;
    }
    
    .stage-tag {
      font-size: 8px;
      letter-spacing: 0.1em;
      opacity: 0.7;
      display: block;
      margin-bottom: 3px;
      text-transform: uppercase;
    }
    
    .customer-thinking {
      color: var(--text-secondary);
      font-style: italic;
      white-space: pre-line;
    }
    
    .platforms {
      white-space: pre-line;
    }
    
    /* ===== MONTH CELLS ===== */
    .month-cell {
      text-align: center;
      vertical-align: middle;
      min-height: 60px;
      position: relative;
    }
    
    .month-cell.empty {
      background: rgba(255,255,255,0.01);
      color: var(--text-muted);
    }
    
    .month-cell.milestone {
      background: rgba(232, 213, 183, 0.12);
    }
    
    .month-cell.current-month {
      box-shadow: inset 0 0 0 2px var(--accent-orange);
    }
    
    .month-cell .milestone-marker {
      color: var(--accent-gold);
      font-weight: 600;
      font-size: 10px;
      display: block;
      margin-bottom: 2px;
    }
    
    .month-cell .activity {
      font-size: 9px;
      color: var(--text-secondary);
      display: block;
    }
    
    .intensity-bar {
      height: 4px;
      border-radius: 2px;
      margin: 6px auto 0;
      background: rgba(255,255,255,0.1);
    }
    
    .intensity-0 { width: 0; }
    .intensity-1 { width: 20%; background: rgba(255,255,255,0.15); }
    .intensity-2 { width: 40%; background: rgba(255,255,255,0.25); }
    .intensity-3 { width: 60%; background: rgba(255,255,255,0.35); }
    .intensity-4 { width: 80%; background: rgba(255,255,255,0.45); }
    .intensity-5 { width: 100%; background: rgba(255,255,255,0.55); }
    
    /* ===== GATE COLUMNS ===== */
    .gate-after {
      border-right: 3px solid var(--accent-orange) !important;
    }
    
    /* ===== STICKY NOTES ===== */
    .sticky-section {
      padding: 24px;
      display: flex;
      gap: 16px;
      flex-wrap: wrap;
    }
    
    .sticky-note {
      background: #3d3d1a;
      border: 1px solid #5a5a2d;
      padding: 12px 16px;
      font-size: 11px;
      border-radius: 3px;
      transform: rotate(-1deg);
      box-shadow: 2px 2px 8px rgba(0,0,0,0.3);
      max-width: 280px;
    }
    
    .sticky-note.risk {
      background: #3d1a1a;
      border-color: #5a2d2d;
      color: #ffaaaa;
    }
    
    .light-mode .sticky-note {
      background: #fffde7;
      border-color: #f0e68c;
      color: #333;
    }
    
    .light-mode .sticky-note.risk {
      background: #ffebee;
      border-color: #ef9a9a;
      color: #c62828;
    }
    
    /* ===== FOOTER ===== */
    .footer {
      padding: 24px;
      border-top: 1px solid var(--border-color);
      font-size: 11px;
      color: var(--text-muted);
    }
    
    /* ===== RESPONSIVE ===== */
    @media (max-width: 1400px) {
      .nav-center {
        gap: 4px;
      }
      .nav-btn {
        padding: 4px 8px;
        font-size: 10px;
      }
    }
    
    @media (max-width: 1100px) {
      .nav-center {
        display: none;
      }
    }
  </style>
</head>
<body>
  
  <!-- Top Navigation -->
  <nav class="top-nav">
    <div class="nav-title">The Renatural ‚Äî 2026 Timeline</div>
    
    <div class="nav-center">
      <button class="nav-btn" onclick="scrollToQuarter('jan')">Q1</button>
      <button class="nav-btn" onclick="scrollToQuarter('apr')">Q2</button>
      <button class="nav-btn" onclick="scrollToQuarter('jul')">Q3</button>
      <button class="nav-btn" onclick="scrollToQuarter('oct')">Q4</button>
      
      <div class="nav-divider"></div>
      
      <button class="nav-btn" onclick="scrollToTier('acquisition')">Acquisition</button>
      <button class="nav-btn" onclick="scrollToTier('consideration')">Consideration</button>
      <button class="nav-btn" onclick="scrollToTier('conversion')">Conversion</button>
      <button class="nav-btn" onclick="scrollToTier('retention')">Retention</button>
      
      <div class="nav-divider"></div>
      
      <button class="nav-btn" onclick="toggleAllTiers()">Expand/Collapse All</button>
      <button class="nav-btn" onclick="toggleMilestones()">Milestones Only</button>
    </div>
    
    <div class="nav-right">
      <input type="text" class="search-input" placeholder="Filter swimlanes..." oninput="filterSwimlanes(this.value)">
      <button class="toggle-btn" onclick="toggleTheme()">‚òÄÔ∏è / üåô</button>
    </div>
  </nav>
  
  <!-- Metrics Bar -->
  <div class="metrics-bar" id="metricsBar"></div>
  
  <!-- Table Container -->
  <div class="table-wrapper">
    <table class="timeline-table" id="timelineTable">
      <thead id="tableHead"></thead>
      <tbody id="tableBody"></tbody>
    </table>
  </div>
  
  <!-- Sticky Notes -->
  <div class="sticky-section" id="stickyNotes"></div>
  
  <!-- Footer -->
  <div class="footer" id="footer"></div>
  
  <!-- Load Data -->
  <script src="data.js"></script>
  
  <script>
    const MONTHS = ['jan', 'feb', 'mar', 'apr', 'may', 'jun', 'jul', 'aug', 'sep', 'oct', 'nov', 'dec'];
    const MONTH_LABELS = ['JAN', 'FEB', 'MAR', 'APR', 'MAY', 'JUN', 'JUL', 'AUG', 'SEP', 'OCT', 'NOV', 'DEC'];
    const GATE_AFTER = ['mar', 'jun', 'sep']; // Gates after these months
    
    let collapsedTiers = {};
    let milestonesOnly = false;
    
    // Initialize
    document.addEventListener('DOMContentLoaded', () => {
      renderMetrics();
      renderTable();
      renderStickyNotes();
      renderFooter();
      highlightCurrentMonth();
    });
    
    function renderMetrics() {
      const container = document.getElementById('metricsBar');
      const m = CONFIG.metrics;
      container.innerHTML = `
        <div class="metric"><span>Revenue Target:</span> ${m.revenueTarget}</div>
        <div class="metric"><span>Wigs:</span> ${m.wigs}</div>
        <div class="metric"><span>Accessories:</span> ${m.accessories}</div>
        <div class="metric"><span>Total Budget:</span> ${m.totalBudget}</div>
        <div class="metric"><span>Wig CAC:</span> ${m.wigCAC}</div>
        <div class="metric"><span>Target CVR:</span> ${m.targetCVR}</div>
        <div class="metric"><span>Sessions Needed:</span> ${m.sessionsNeeded}</div>
      `;
    }
    
    function renderTable() {
      const thead = document.getElementById('tableHead');
      const tbody = document.getElementById('tableBody');
      
      // Build header - Quarter row
      let quarterRow = `
        <tr class="quarter-row">
          <th class="col-swimlane" rowspan="2">Swimlane</th>
          <th class="col-thinking" rowspan="2">Customer Thinking</th>
          <th class="col-platforms" rowspan="2">Platforms & Placements</th>
          <th class="col-budget" rowspan="2">Budget / Role</th>
          <th colspan="3" class="q1">${CONFIG.quarters.q1.label} (${CONFIG.quarters.q1.budget})</th>
          <th colspan="3" class="q2">${CONFIG.quarters.q2.label} (${CONFIG.quarters.q2.budget})</th>
          <th colspan="3" class="q3">${CONFIG.quarters.q3.label} (${CONFIG.quarters.q3.budget})</th>
          <th colspan="3" class="q4">${CONFIG.quarters.q4.label} (${CONFIG.quarters.q4.budget})</th>
          <th class="col-milestones" rowspan="2">Key Milestones</th>
          <th class="col-dependencies" rowspan="2">Dependencies</th>
          <th class="col-risk" rowspan="2">Risk if Late</th>
        </tr>
      `;
      
      // Month row
      let monthRow = '<tr>';
      MONTHS.forEach((month, i) => {
        const isGate = GATE_AFTER.includes(month);
        monthRow += `<th class="col-month ${isGate ? 'gate-after' : ''}" data-month="${month}">${MONTH_LABELS[i]}</th>`;
      });
      monthRow += '</tr>';
      
      thead.innerHTML = quarterRow + monthRow;
      
      // Build body
      let bodyHTML = '';
      
      TIERS.forEach(tier => {
        const tierSwimlanes = SWIMLANES.filter(s => s.tier === tier.id);
        
        // Tier divider row
        bodyHTML += `
          <tr class="tier-divider-row tier-${tier.id}" id="tier-${tier.id}" onclick="toggleTier('${tier.id}')">
            <td colspan="19">
              <span class="collapse-icon">‚ñº</span>
              ${tier.name} ‚Äî ${tier.budget}
            </td>
          </tr>
        `;
        
        // Swimlane rows
        tierSwimlanes.forEach(swimlane => {
          bodyHTML += renderSwimlaneRow(swimlane, tier.id);
        });
      });
      
      tbody.innerHTML = bodyHTML;
    }
    
    function renderSwimlaneRow(swimlane, tierId) {
      let monthCells = '';
      
      MONTHS.forEach(month => {
        const data = swimlane.months[month] || { activity: '‚Äî', intensity: 0 };
        const isEmpty = data.intensity === 0;
        const hasMilestone = data.milestone;
        const isGate = GATE_AFTER.includes(month);
        
        let classes = 'col-month month-cell';
        if (isEmpty) classes += ' empty';
        if (hasMilestone) classes += ' milestone';
        if (isGate) classes += ' gate-after';
        
        monthCells += `
          <td class="${classes}" data-month="${month}">
            ${hasMilestone ? `<span class="milestone-marker">${data.milestone}</span>` : ''}
            <span class="activity">${data.activity}</span>
            <div class="intensity-bar intensity-${data.intensity}"></div>
          </td>
        `;
      });
      
      const riskClass = swimlane.riskLevel === 'low' ? 'low-risk' : 
                        swimlane.riskLevel === 'critical' ? 'critical-risk' : '';
      
      return `
        <tr class="swimlane-row tier-${tierId}" data-tier="${tierId}" data-swimlane="${swimlane.id}" data-name="${swimlane.name.toLowerCase()}">
          <td class="col-swimlane">
            <span class="stage-tag">${tierId}</span>
            <span class="swimlane-name">${swimlane.name}</span>
          </td>
          <td class="col-thinking customer-thinking">${swimlane.customerThinking}</td>
          <td class="col-platforms platforms">${swimlane.platforms}</td>
          <td class="col-budget">
            <strong>${swimlane.budget}</strong><br>
            ${swimlane.role}
          </td>
          ${monthCells}
          <td class="col-milestones">${swimlane.milestones.replace(/\n/g, '<br>')}</td>
          <td class="col-dependencies">${swimlane.dependencies.replace(/\n/g, '<br>')}</td>
          <td class="col-risk ${riskClass}">${swimlane.risk.replace(/\n/g, '<br>')}</td>
        </tr>
      `;
    }
    
    function renderStickyNotes() {
      const container = document.getElementById('stickyNotes');
      container.innerHTML = CONFIG.stickyNotes.map(note => 
        `<div class="sticky-note ${note.type === 'risk' ? 'risk' : ''}">${note.text}</div>`
      ).join('');
    }
    
    function renderFooter() {
      document.getElementById('footer').innerHTML = `
        The Renatural ‚Äî 2026 Marketing Master Timeline ‚Äî Prepared for CEO Aasiyah<br>
        ${CONFIG.metrics.revenueTarget} Revenue Target | ${CONFIG.metrics.wigs} Wigs + ${CONFIG.metrics.accessories} Accessories | ${CONFIG.metrics.totalBudget} Budget | ${CONFIG.metrics.targetCVR} CVR on ${CONFIG.metrics.sessionsNeeded} Sessions
      `;
    }
    
    function highlightCurrentMonth() {
      const now = new Date();
      const currentMonth = MONTHS[now.getMonth()];
      document.querySelectorAll(`td[data-month="${currentMonth}"]`).forEach(el => {
        el.classList.add('current-month');
      });
    }
    
    // ===== INTERACTIONS =====
    
    function toggleTier(tierId) {
      collapsedTiers[tierId] = !collapsedTiers[tierId];
      const isCollapsed = collapsedTiers[tierId];
      
      // Update divider icon
      const divider = document.getElementById(`tier-${tierId}`);
      divider.classList.toggle('collapsed', isCollapsed);
      
      // Show/hide rows
      document.querySelectorAll(`.swimlane-row[data-tier="${tierId}"]`).forEach(el => {
        el.classList.toggle('hidden', isCollapsed);
      });
    }
    
    function toggleAllTiers() {
      const anyExpanded = TIERS.some(tier => !collapsedTiers[tier.id]);
      
      TIERS.forEach(tier => {
        collapsedTiers[tier.id] = anyExpanded;
        
        const divider = document.getElementById(`tier-${tier.id}`);
        if (divider) divider.classList.toggle('collapsed', anyExpanded);
        
        document.querySelectorAll(`.swimlane-row[data-tier="${tier.id}"]`).forEach(el => {
          el.classList.toggle('hidden', anyExpanded);
        });
      });
    }
    
    function toggleMilestones() {
      milestonesOnly = !milestonesOnly;
      document.querySelectorAll('.month-cell').forEach(el => {
        if (milestonesOnly) {
          el.style.opacity = el.classList.contains('milestone') ? '1' : '0.15';
        } else {
          el.style.opacity = '1';
        }
      });
    }
    
    function filterSwimlanes(query) {
      const q = query.toLowerCase().trim();
      document.querySelectorAll('.swimlane-row').forEach(row => {
        const name = row.dataset.name || '';
        row.classList.toggle('filtered-out', q && !name.includes(q));
      });
    }
    
    function scrollToQuarter(month) {
      const firstCell = document.querySelector(`thead th[data-month="${month}"]`);
      if (firstCell) {
        const wrapper = document.querySelector('.table-wrapper');
        // Calculate position accounting for sticky columns
        const stickyWidth = 610; // Width of 4 sticky columns
        wrapper.scrollLeft = firstCell.offsetLeft - stickyWidth - 10;
      }
    }
    
    function scrollToTier(tierId) {
      const el = document.getElementById(`tier-${tierId}`);
      if (el) {
        // Expand tier if collapsed
        if (collapsedTiers[tierId]) {
          toggleTier(tierId);
        }
        
        // Scroll with offset for fixed header
        const offset = 150; // header + metrics + some buffer
        const elementPosition = el.getBoundingClientRect().top + window.pageYOffset;
        window.scrollTo({
          top: elementPosition - offset,
          behavior: 'smooth'
        });
      }
    }
    
    function toggleTheme() {
      document.body.classList.toggle('light-mode');
    }
  </script>
</body>
</html>
